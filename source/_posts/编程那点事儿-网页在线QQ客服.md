---
title: ä¸ºè‡ªå·±çš„ç½‘é¡µæ·»åŠ åœ¨çº¿QQå®¢æœğŸ’
date: 2017-05-29 0:56:21
categories: ç¼–ç¨‹é‚£ç‚¹äº‹å„¿
tags:
  - QQ
---
<blockquote class="blockquote-center">QQæœ‰æ—¶å€™å°±åƒæ°´æµä¸€æ ·ï¼Œçœ‹ä¸Šå»å¹¶ä¸å¼ºå¤§ï¼Œä½†æ— å­”ä¸å…¥ã€‚</blockquote>

<!--more-->

## å†™åœ¨å‰é¢

ä¸€ä¸ªå¼ºå¤§å®Œæ•´çš„ç½‘ç»œäº§å“åŒ…æ‹¬å¾ˆå¤šå…ƒç´ ï¼Œå¾ˆä¹…ä¹‹å‰å°±ç•™æ„è¿‡å›½å¤–è¯¸å¤šäº§å“æœ‰ä¸ª<a href="https://www.intercom.com/">ä¼˜ç§€çš„åœ¨çº¿å®¢æœç³»ç»Ÿ</a>ï¼ˆä½ å¯ä»¥æ‰“å¼€æœ¬é“¾æ¥çœ‹ä¸‹å®ƒå³ä¸‹è§’ï¼Œå°±æ˜¯å®ƒè‡ªå·±æä¾›çš„åœ¨çº¿å®¢æœæœåŠ¡ï¼‰ï¼Œæƒ³ç€é—²æ¥æ— äº‹æ—¶å¯ä»¥æ¢ç´¢ä¸€ä¸‹è¿™ç©æ„ã€‚ä»Šå¤©ï¼Œæ—¶å€™åˆ°äº†ã€‚

ä¸Šé¢è¿™ä¸ªæœåŠ¡ç®€æ´ä¸è½ä¿—å¥—ï¼Œæ“ä½œèµ·æ¥ä¹Ÿå¾ˆç®€å•ï¼ˆ<a href="https://forum.qzy.camp/t/gem-intercom-rails/800">æˆ³æˆ‘çœ‹é…ç½®æ•™ç¨‹</a>ï¼‰ï¼Œå¯ä»¥å…ˆè¯•ç”¨ã€‚ä¸è¿‡å¯¹æˆ‘æ¥è¯´å¹¶æ— å®è´¨çš„åŠŸèƒ½éœ€æ±‚ï¼Œç­‰å“ªæ—¶åˆ›ä¸šäº†å†è¯´å§ï¼ˆæ„æ·«ingï¼‰ï¼Œå…ˆæä¸ªå…è´¹çš„æŠŠç©æŠŠç©è¶³å¤Ÿã€‚å›½äººä»£ç å‘æ¥æ¬è¿è‡ªæµ·å¤–ï¼Œæœ‰æ—¶å€™é’å‡ºäºè“èƒœäºè“ï¼Œä¸ºäº†æ¥åœ°æ°”ï¼Œæˆ‘åˆç¿»äº†å‡ å®¶å›½å†…çš„æœåŠ¡ï¼ˆ<a href="http://qiyukf.com/">ç½‘æ˜“ä¸ƒé±¼</a>ï¼Œ<a href="http://www.ewei.com/">æ˜“ç»´å¸®åŠ©å°</a>ï¼‰ï¼Œç„¶è€Œä¸‘åˆ°çˆ†ï¼Œå°¾å¤§ä¸æ‰...

ç»è¿‡ä¸€ç•ªæŠ˜è…¾ï¼Œè‡ªå·±çš„éœ€æ±‚é€æ¸æ¸…æ™°ï¼š

- å¯ä»¥è‡ªå®šä¹‰å®¢æœçª—å£UI
- å…è´¹
- åŠŸèƒ½æ€§æš‚æ— è¦æ±‚ï¼Œæœ‰ä¸ªæ„æ€å³å¯

äºæ˜¯ï¼Œå°±æœ‰äº†ä¸‹é¢çš„åŠ¨ä½œã€‚

## æ·»åŠ ç½‘é¡µåœ¨çº¿QQå®¢æœ

æœç´¢ä¸€ä¸‹â€œåœ¨çº¿QQå®¢æœä»£ç â€å³å¯å‡ºç°å„ç§èµ„æºã€‚å†ä¸€æ¬¡ä¸å¾—ä¸ä½©æœé©¬åŒ–è…¾çš„äº§å“è·¯çº¿ä¹‹å¹¿ï¼Œæ–¹æ–¹é¢é¢æ— å¤„ä¸åœ¨ã€‚

ä»¥ä¸‹åªè®°å½•æˆ‘ç›¸å†Œè¿™ä¸ªæ•ˆæœå®ç°ã€‚ï¼ˆ<a href="http://51world.win/gallery/index.html">æˆ³æˆ‘çœ‹æ•ˆæœï¼Œæ²¡é”™ï¼Œå°±æ˜¯é‚£ä¸ªè°ƒçš®çš„ç­‰ä½ å“”å“”çš„çˆ±å› æ–¯å¦</a>ï¼‰

### å¼•ç”¨ CSS

``` bash
#cs_box {
    width: 120px;
    height: 220px;
    color: #FFF;
    background: #333;
    position: fixed;
    right: 10px;
    top: 100px;
    border-radius: 10px;
    border: 1px solid #777;
    z-index: 1000
}

#cs_box span {
    height: 20px;
    line-height: 20px;
    display: block;
}

.cs_close {
    color: #FFF;
    position: absolute;
    right: 10px;
    top: 8px;
    cursor: pointer;
    font-size: 20px;
    font-family: Verdana, Geneva, sans-serif
}

.cs_title {
    font-size: 14px;
    margin: 10px;
    font-weight: bold;
}

.cs_img {
    width: 100px;
    height: 100px;
    background: #FFF;
    margin: 10px;
    background-image: url(http://ogudt6aal.bkt.clouddn.com/image/zaixianqq.png)<!-- è¿™æ˜¯æˆ‘ä¸ƒç‰›ä¸Šçš„çˆ±å› æ–¯å¦å›¾ç‰‡çš„è·¯å¾„ -->
}

.cs_info {
    font-size: 12px;
    margin: 0px 10px;
    overflow: hidden;
    text-align: center;
}

.cs_btn {
    width: 100px;
    height: 25px;
    background: #666;
    margin: 5px 10px;
    border-radius: 5px;
    font-size: 12px;
    line-height: 25px;
    color: #FFF;
    text-align: center;
    cursor: pointer;
}
```

### å¼•ç”¨JS

``` bash
function myEvent(obj,ev,fn){
	if (obj.attachEvent){
		obj.attachEvent('on'+ev,fn);
	}else{
		obj.addEventListener(ev,fn,false);
	};
};

function getByClass(obj,sClass){
	var array = [];
	var elements = obj.getElementsByTagName('*');
	for (var i=0; i<elements.length; i++){
		if (elements[i].className == sClass){
			array.push (elements[i]);
		};
	};
	return array;
};

var cs_box = {
	set : function(json){
		this.box = document.getElementById('cs_box');
		//this.setimg(json);
		this.qqfn(json);
		this.cs_close();
	},
	qqfn : function(json){
		this.btn = getByClass(this.box,'cs_btn')[0];
		var link = 'http://wpa.qq.com/msgrd?v=3&uin='+json.qq+'&site=qq&menu=yes';
		this.btn.onclick = function(){
			window.open(link,'_blank');
		};
	},
	cs_close : function(){
		this.btn = getByClass(this.box,'cs_close')[0];
		var _this = this;
		var speed = 0;
		var timer = null;
		var sh = document.documentElement.clientHeight || document.body.clientHeight;
		this.btn.onclick = function(){
			clearInterval(timer);
			timer = setInterval(function(){
				speed += 4;
				var t = _this.box.offsetTop + speed;
				if (t >= sh-_this.box.offsetHeight){
					speed *= -0.8;
					t = sh-_this.box.offsetHeight;
				};
				if (Math.abs(speed)<2)speed = 0;
				if (speed == 0  && sh-_this.box.offsetHeight == t){
					clearInterval(timer);
					_this.fn();
				};
				_this.box.style.top = t + 'px';
			}, 30);
		};
	},
	fn : function(){
		var _this = this;
		var timer = setTimeout(function(){
			_this.box.style.display = 'none';
		}, 1000);
	},
};

```


### æ·»åŠ å¯¹åº”çš„ html

body ç»“æŸå‰æ·»åŠ ä»¥ä¸‹ä»£ç ï¼š

``` bash
<div id='cs_box'>
  <span class='cs_title'>-åœ¨çº¿åæ§½-</span>
  <span class='cs_close'>x</span>
  <div class='cs_img'></div>
  <span class='cs_info'>æœ‰ä»€ä¹ˆæƒ³å“”å“”ï¼Ÿ</span>
  <div class='cs_btn'>ç‚¹å‡»å¼€æ’©</div>
</div>
<script src="js/xxx.js"></script><!-- è¿™é‡Œå†™åˆšæ‰jsçš„è·¯å¾„ -->
<script>
  myEvent(window,'load',function(){
    cs_box.set({
      qq : 'yyy',<!-- è¿™é‡Œå¡«å†™ä½ å®¢æœçš„ä¼é¹…ğŸ§å· -->
    });
  });
</script>

```

### æµ‹è¯•

ç¬¬ä¸€æ¬¡ç©è¿™ç©æ„ï¼Œä½ éœ€è¦å¼€é€šQQçš„æŸç§åŠŸèƒ½ï¼ˆè¿™åŠŸèƒ½åœ¨æ—¶åˆ»æ›´æ–°ï¼Œä½ æŒ‰å›¾ç´¢éª¥å³å¯ï¼‰ã€‚

ç»“æŸã€‚
